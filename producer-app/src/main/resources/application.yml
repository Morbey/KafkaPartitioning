spring:
  application:
    name: producer-app
  cloud:
    stream:
      kafka:
        binder:
          brokers: localhost:9092
          auto-create-topics: true
          configuration:
            # Producer configuration
            acks: all
            retries: 3
      bindings:
        produceMessage-out-0:
          destination: test-topic
          producer:
            partition-count: 3
            partition-key-expression: headers['partitionKey']
      function:
        definition: produceMessage

server:
  port: 8080

# Logging configuration
logging:
  level:
    org.apache.kafka.clients.producer: INFO
    org.springframework.cloud.stream: DEBUG
    com.example.kafka.producer: INFO
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss} - [%thread] %-5level %logger{36} - %msg%n"

management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics
  endpoint:
    health:
      show-details: always
